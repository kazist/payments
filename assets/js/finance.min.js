jQuery(document).ready(function(){finance.init()});finance=function(){return{init:function(){finance.addEvents(jQuery("body"))},addEvents:function(a){a.find(".search-user").click(function(){finance.fetchUser(jQuery(this));return false});a.find("form").submit(function(){return finance.validate()});return a},validate:function(){var d="Validation Error";var c="";var a=parseInt(jQuery("#user_id").val());var b=parseInt(jQuery("#amount").val());if(!a&&jQuery("#user_id").length){c+=":- User Not Selected.<br>"}if(!b){c+=":- Amount can not be less that 1.<br>"}if(c!=""){kazist.showDialog(d,c,"error");return false}return true},fetchUser:function(e){var b=e.closest(".search-user-wrapper");var a=b.find(".search_user_id").val();if(a==""||a==" "){finance.printMessage('<b style="color:red">User to Search is Empty:</b>');return false}var f={keyword:a};var d=kazist.callAjaxByRoute("users.users.fetchuser",f,true);if(d==null||typeof d=="undefined"){finance.printMessage('<b style="color:red">User Not Found:</b> <i>"'+a+'"</i><br>')}else{var c="";c+="<b>User Name:</b> "+d.username+"<br>";c+="<b>Email:</b> "+d.email+"<br>";c+="<b>Phone:</b> "+d.phone+"<br>";jQuery("#user_id").val(d.id);finance.printMessage(c)}},printMessage:function(b){var a="";a+="<div>";a+=b;a+="</div>";jQuery(".searched-user-holder").html(a)}}}();